#!/usr/bin/env php
<?php

require __DIR__.'/../vendor/autoload.php';

use Tracker\Command;
use Tracker\Helper;
use Symfony\Component\Console\Application;

$client = new Raven_Client('https://c179a65e92ed42d58c07bafe329b0fba@sentry.io/1316915');

$error_handler = new Raven_ErrorHandler($client);
$error_handler->registerExceptionHandler();
$error_handler->registerErrorHandler();
$error_handler->registerShutdownFunction();

$application = new Application('Toggl Tracker', '@package_version@');
$application->add(new Command\ProjectImport());
$application->add(new Command\TimeCommand());
$application->add(new Command\Configure());
$application->add(new Command\Update());
$application->add(new Command\Rollback());
$application->run();
